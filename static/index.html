<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PhishGard</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/utilities.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
</head>

<body>
    <!-- Contenu de la page -->
    <div class="container">
        <div class="header">
            <div class="logo">
                <div class="shield-icon">üõ°Ô∏è</div>
                <div class="logo-text">
                    <span class="logo-title">PhishGard</span>
                    <small class="logo-tagline">Analyse & Protection IA</small>
                </div>
            </div>
            
            <!-- <div class="stats">
                <div class="stat-item">
                    <div class="stat-icon-wrapper">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
                    </div>
                    <div class="stat-info">
                        <div class="stat-number">1,247</div>
                        <div class="stat-label">Emails analys√©s</div>
                    </div>
                    <div class="stat-trend positive">‚ñ≤ +5%</div>
                </div>
                <div class="stat-item">
                    <div class="stat-icon-wrapper">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>
                    </div>
                    <div class="stat-info">
                        <div class="stat-number">89</div>
                        <div class="stat-label">Menaces d√©tect√©s</div>
                    </div>
                    <div class="stat-trend negative">‚ñº -2%</div>
                </div>
            </div> -->
           <div class="user-menu-wrapper">
                <button class="user-menu-button" id="user-menu-btn" style="display: none;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
                    <span>email.utilisateur@gmail.com</span>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg>
                </button>
                <div class="dropdown-menu" id="user-dropdown-menu">
                    <a href="#/settings" class="dropdown-item">Param√®tres</a>
                    <div class="dropdown-divider"></div>
                    <a href="#" class="dropdown-item logout">D√©connexion</a>
                </div>

                <div id="login-btn-container" style="display: none;">
                    <button id="google-login-btn" class="button button-primary">
                        Se connecter avec Google
                    </button>
                </div>
            </div>
        </div>


        
         <div class="main-content">
            <!-- Barre de navigation principale -->
            <nav class="main-nav">
                <a href="#/inbox" class="nav-item active">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 12h-6l-2 3h-4l-2-3H2"></path><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"></path></svg>
                    <span>Bo√Æte de r√©ception</span>
                </a>
                <a href="#/analyzer" class="nav-item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
                    <span>Analyse √† la demande</span>
                </a>
                <a href="#/dashboard" class="nav-item">
                     <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line></svg>
                    <span>Tableau de bord</span>
                </a>
                <a href="#/news" class="nav-item">
                     <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg>
                    <span>Fil d'actualit√©</span>
                </a>

                <div class="nav-footer">
                    <a href="#/settings" class="nav-item">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>
                        <span>Param√®tres</span>
                    </a>
                </div>


            </nav>

            <!-- Contenu principal --> 
            <main id="app-view" class="main-panel">
                <div id="inbox-view" class="view-container"></div>
                <div id="analyzer-view" class="view-container hidden"></div>
                <!-- <div id="dashboard-view" class="view-container hidden"></div> -->
                <div id="dashboard-view" class="view-container hidden">
                    <div class="dashboard-toolbar">
                        <h2 class="view-title">Tableau de Bord</h2>
                        <div class="date-filter-group">
                            <button class="date-btn active" data-period="7d">7 jours</button>
                            <button class="date-btn" data-period="30d">30 jours</button>
                            <button class="date-btn" data-period="today">Aujourd'hui</button>
                            
                            <div class="date-picker-wrapper">
                                <input type="text" id="dashboard-date-picker" placeholder="Plage personnalis√©e">
                            </div>
                        </div>
                    </div>

                    <div class="dashboard-grid">
                        <div class="widget-card kpi-card" id="kpi-emails-analyzed">
                            </div>
                        <div class="widget-card kpi-card" id="kpi-phishing-detected">
                            </div>
                        <div class="widget-card kpi-card" id="kpi-threat-rate">
                            </div>

                        <div class="widget-card chart-card-large">
                            <h5 class="widget-title">Volume d'emails par statut</h5>
                            <div class="chart-container">
                                <canvas id="emailsByStatusChart"></canvas>
                            </div>
                        </div>

                        <div class="widget-card chart-card-small">
                            <h5 class="widget-title">R√©partition des statuts</h5>
                            <div class="chart-container">
                                <canvas id="statusDistributionChart"></canvas>
                            </div>
                        </div>

                        <div class="widget-card list-card">
                            <h5 class="widget-title">Derni√®res menaces d√©tect√©es</h5>
                            <ul id="latest-threats-list" class="threat-list">
                                </ul>
                        </div>
                    </div>
                </div>
                <div id="news-view" class="view-container hidden"></div>
                <div id="settings-view" class="view-container hidden"></div>
            </main>

            <aside id="contextual-sidebar" class="contextual-sidebar">
                
                <div class="filter-section">
                    <div class="filter-title">Statut</div>
                    <div class="status-filters-grid">
                        <div class="status-card active" data-filter="all">
                            <div class="status-card-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
                            </div>
                            <div class="status-card-info">
                                <span class="status-card-label">Tous les emails</span>
                                <span class="status-card-count" id="count-all">1247</span>
                            </div>
                        </div>
                        <div class="status-card" data-filter="phishing">
                            <div class="status-card-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21.5 10c0-2.3-1.2-4.3-3-5.5-1.3-1-3-1.5-4.8-1.5-2.8 0-5.3.9-7.2 2.5-1.3 1-2.2 2.3-2.5 3.8-.2 1-.3 2.1-.3 3.2 0 1.9.4 3.7 1.2 5.2s1.9 2.7 3.3 3.7c1.4 1 3.1 1.5 5 1.5 2.1 0 4.1-.7 5.7-2.1 1.6-1.4 2.6-3.3 2.8-5.4.2-1.7.2-3.5 0-5.2z"></path><path d="M10 16s.5-3 2-3c1.5 0 2 3 2 3"></path><line x1="14" y1="12" x2="14.01" y2="12"></line><line x1="10" y1="12" x2="10.01" y2="12"></line></svg>
                            </div>
                            <div class="status-card-info">
                                <span class="status-card-label">Phishing</span>
                                <span class="status-card-count" id="count-phishing">89</span>
                            </div>
                        </div>
                        <div class="status-card" data-filter="suspicious">
                            <div class="status-card-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg>
                            </div>
                            <div class="status-card-info">
                                <span class="status-card-label">Suspects</span>
                                <span class="status-card-count" id="count-suspicious">156</span>
                            </div>
                        </div>
                        <div class="status-card" data-filter="legitimate">
                            <div class="status-card-icon">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg>
                            </div>
                            <div class="status-card-info">
                                <span class="status-card-label">L√©gitimes</span>
                                <span class="status-card-count" id="count-legitimate">1002</span>
                            </div>
                        </div>
                    </div>

                <div class="filter-section"> </div> <!-- Espace pour les filtres suppl√©mentaires -->

                <div class="filter-section">       
                    <div class="filter-title">Cat√©gories</div>
                    <div class="filter-item">
                        <span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path></svg>
                            Professionnel
                        </span>
                        <span class="badge">567</span>
                    </div>
                    <div class="filter-item">
                        <span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path></svg>
                            E-commerce
                        </span>
                        <span class="badge">234</span>
                    </div>
                </div>

                <div class="filter-section">
                    <div class="filter-title">P√©riode</div>
                    <div class="filter-item">
                        <span>
                           <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
                            Aujourd'hui
                        </span>
                        <span class="badge">47</span>
                    </div>
                    <div class="filter-item">
                        <span>
                           <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
                            Cette semaine
                        </span>
                        <span class="badge">312</span>
                    </div>
                    </div>
                </div>
            </aside>
    </div>
        

    <!-- Modals -->
    <div id="emailModal" class="modal hidden">
        <div class="modal-content">
        <div id="modal-verdict-banner" class="modal-verdict-banner verdict-pending">
            <span class="verdict-icon"></span>
            <div>
                <div class="verdict-text"></div>
                <div class="verdict-confidence"></div>
            </div>
            <span class="close" id="modal-close-btn" title="Fermer">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
            </span>
        </div>
    
        <div class="modal-body">
            <div class="modal-tabs">
            <button class="modal-tab-button active" data-tab="tab-summary">Synth√®se</button>
            <button class="modal-tab-button" data-tab="tab-details">Analyse D√©taill√©e</button>
            <button class="modal-tab-button" data-tab="tab-preview">Aper√ßu de l'Email</button>
            </div>
    
            <div class="modal-tab-content-wrapper">
            <div class="tab-pane active" id="tab-summary">
                <div class="summary-verdict-block"></div>
                <div class="summary-factors-block">
                <h5 class="block-title">Facteurs Cl√©s de D√©cision</h5>
                <ul id="summary-factors-list"></ul>
                </div>
                <div class="summary-ai-block hidden-initially">
                <p id="summary-ai-text">...</p>
                </div>
            </div>
            
    
            <div class="tab-pane" id="tab-details">
                <details class="report-section" open>
                <summary class="report-section-summary"><svg></svg>Origine & R√©putation de l'Exp√©diteur</summary>
                <div class="report-section-content" id="details-origin-content"></div>
                </details>
                <details class="report-section">
                <summary class="report-section-summary"><svg></svg>Contenu & Intention (Analyse IA)</summary>
                <div class="report-section-content" id="details-content-content"></div>
                </details>
                <details class="report-section">
                <summary class="report-section-summary"><svg></svg>V√©rifications Techniques de l'Ent√™te</summary>
                <div class="report-section-content" id="details-tech-content"></div>
                </details>
            </div>
    
            <div class="tab-pane" id="tab-preview">
                <div id="email-preview-container">
                <div class="email-preview-header"><svg></svg>Aper√ßu de l'Email</div>
                <div class="email-preview-content"></div>
                </div>
            </div>
            </div>
        </div>
        </div>
    </div>

    <script src="js/main.js" type="module"></script>

</body>
</html>
